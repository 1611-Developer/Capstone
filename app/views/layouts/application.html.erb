<!DOCTYPE html>
<html>
<head>
  <title><%= content_for(:title).presence || base_title %></title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <%= yield :head %>

  <link rel="icon" href="/icon.png" type="image/png">
  <link rel="icon" href="/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/icon.png">

  <%= stylesheet_link_tag :application, "data-turbo-track": "reload" %> <!-- Using application.css -->
  <%= javascript_importmap_tags %>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sriracha&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <div class="container">
      <% if current_user %>
        <span id="logo" class="non-link">Created.Software</span>
      <% else %>
        <%= link_to "Created.Software", root_path, id: "logo" %>
      <% end %>

      <!-- Hamburger Menu -->
      <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </div>

<nav id="navbar">
  <ul>
    <% if current_user %>
      <li><%= link_to "Create Project", new_project_path, class: "nav-signup" %></li>
      <li><%= link_to "Dashboard", dashboard_path %></li>
      <li><%= link_to "Profile", profile_path(username: current_user.username), class: "nav-link" %></li>
      <li>
        <%= link_to "Logout", logout_path, data: { turbo_method: :delete }, class: "nav-link", method: :delete %>
      </li>

    <% else %>
      <li><%= link_to "Login", login_path, class: "nav-login" %></li>
      <% unless current_page?(root_path) %>
        <li><%= link_to "Signup", signup_path, class: "nav-signup" %></li>
      <% end %>
    <% end %>
  </ul>
</nav>


    </div>
  </header>
  <%= yield %>
</body>
</html>
